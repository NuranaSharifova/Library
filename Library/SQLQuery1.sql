CREATE TABLE AUTHORS(
ID INT PRIMARY KEY IDENTITY(1,1),
FIRSTNAME nvarchar(100) NOT NULL,
LASTNAME nvarchar(100) NOT NULL
)
CREATE TABLE PUBLISHERS(
ID INT PRIMARY KEY IDENTITY(1,1),
NAME nvarchar(100) NOT NULL
)
CREATE TABLE GENRES(
ID INT PRIMARY KEY IDENTITY(1,1),
NAME nvarchar(100) NOT NULL
)
CREATE TABLE BOOKS(
ID INT PRIMARY KEY IDENTITY(1,1),
NAME nvarchar(100) NOT NULL,
AUTHORID INT NOT NULL FOREIGN KEY REFERENCES AUTHORS(ID) ON DELETE CASCADE,
GENREID INT NOT NULL FOREIGN KEY REFERENCES GENRES(ID) ON DELETE CASCADE,
PUBLISHERID INT NOT NULL FOREIGN KEY REFERENCES PUBLISHERS(ID) ON DELETE CASCADE,
PAGES INT NOT NULL,
PUBLISHING_DATE INT NOT NULL,
COST_PRICE MONEY NOT NULL,
SALES_PRICE MONEY NOT NULL,
CONTINUED BIT Default(0),
QUANTITY INT Default(0)
)
CREATE TABLE ADMINS(
ID INT PRIMARY KEY IDENTITY(1,1),
LOGIN NVARCHAR(100) NOT NULL,
PASSWORD NVARCHAR(100) NOT NULL
)
CREATE TABLE CUSTOMERS(
ID INT PRIMARY KEY IDENTITY(1,1),
NAME nvarchar(100) NOT NULL,
)
CREATE TABLE SALESMAN(
ID INT PRIMARY KEY IDENTITY(1,1),
Login nvarchar(100) NOT NULL,
Password nvarchar(100) NOT NULL
)
CREATE TABLE BOOKSALES(
ID INT PRIMARY KEY IDENTITY(1,1),
BOOKID INT NOT NULL FOREIGN KEY REFERENCES BOOKS(ID) ON DELETE CASCADE,
CUSTOMERID INT NOT NULL FOREIGN KEY REFERENCES CUSTOMERS(ID) ON DELETE CASCADE,
SALESMANID INT NOT NULL FOREIGN KEY REFERENCES SALESMAN(ID) ON DELETE CASCADE,
SALES_DATE DATETIME NOT NULL,
SALES_PRICE MONEY NOT NULL 
)
CREATE TABLE RESERVEDBOOKS(
ID INT PRIMARY KEY IDENTITY(1,1),
BOOKID int NOT NULL FOREIGN KEY REFERENCES Books(Id) ON DELETE CASCADE,
CUSTOMERID int NOT NULL FOREIGN KEY REFERENCES Customers(Id) ON DELETE CASCADE,
AMOUNT INT NOT NULL
)
CREATE TABLE STOCKS(
ID INT PRIMARY KEY IDENTITY(1,1),
NAME nvarchar(100) NOT NULL
)
CREATE TABLE BOOKSINSTOCK(
ID INT PRIMARY KEY IDENTITY(1,1),
STOCKID int NOT NULL FOREIGN KEY REFERENCES Stocks(Id) ON DELETE CASCADE,
BOOKID int NOT NULL FOREIGN KEY REFERENCES Books(Id) ON DELETE CASCADE,
STOCKPERCENT int NOT NULL CONSTRAINT PercentCheck CHECK (0 < STOCKPERCENT AND STOCKPERCENT <= 100)
)